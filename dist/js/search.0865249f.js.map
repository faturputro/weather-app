{"version":3,"sources":["webpack:///./src/views/dashboard/SearchCity.vue?bf30","webpack:///src/views/dashboard/SearchCity.vue","webpack:///./src/views/dashboard/SearchCity.vue?6051","webpack:///./src/views/dashboard/SearchCity.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isSearchVisible","attrs","on","searchCity","model","value","callback","$$v","searchValue","expression","ref","currentLat","currentLon","toggleSearchBar","$event","_v","_s","searchRes","name","main","temp","coord","lon","lat","weather","wind","speed","_e","staticRenderFns","data","isSnackbarVisible","computed","currentLocation","long","mounted","$route","query","q","$refs","map","recenter","methods","component"],"mappings":"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","file":"js/search.0865249f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-full h-full\"},[_c('div',{staticClass:\"search--bar py-6 z-30 w-full px-6 shadow-lg\",class:!_vm.isSearchVisible && 'is-hidden'},[_c('w-input',{attrs:{\"placeholder\":\"Search cities\"},on:{\"submit\":_vm.searchCity},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),_c('w-map',{ref:\"map\",attrs:{\"lat\":_vm.currentLat,\"long\":_vm.currentLon},on:{\"markerClicked\":_vm.toggleSearchBar,\"mapClicked\":_vm.toggleSearchBar,\"mapDragStart\":function($event){_vm.isSearchVisible = false},\"mapDragEnd\":function($event){_vm.isSearchVisible = true}}}),(_vm.isSnackbarVisible)?_c('div',{staticClass:\"\\n      snackbar--bottom absolute bottom-0 z-30 w-full bg-white rounded-tl-2xl rounded-tr-2xl py-4\",class:!_vm.isSearchVisible && 'is-hidden'},[_c('div',{staticClass:\"mx-6\"},[_c('div',{staticClass:\"flex justify-between items-center pb-4\"},[_c('div',{staticClass:\"flex items-center\"},[_c('h4',{staticClass:\"text-xl mr-4\"},[_c('eva-icon',{attrs:{\"name\":\"pin\",\"fill\":\"#363B64\"}})],1),_c('div',[_c('h5',{staticClass:\"text-xl font-semibold\"},[_vm._v(_vm._s(_vm.searchRes.name))]),_c('p',{staticClass:\"text-sm text-gray-400 font-light\"},[_vm._v(\"Indonesia\")])])]),_c('div',[_c('h5',{staticClass:\"text-2xl\"},[_vm._v(_vm._s(_vm.searchRes.main.temp)+\"Â°\")])])]),_c('hr'),_c('div',{staticClass:\"flex justify-between items-center py-4\"},[_c('div',[_c('p',{staticClass:\"text-sm text-gray-400 font-light\"},[_vm._v(\"Longitude and Latitude\")]),_c('h5',{staticClass:\"text-lg font-semibold\"},[_vm._v(\" \"+_vm._s(_vm.searchRes.coord.lon)+\", \"+_vm._s(_vm.searchRes.coord.lat)+\" \")])]),_c('div',[_c('p',{staticClass:\"text-sm text-gray-400 font-light\"},[_vm._v(_vm._s(_vm.searchRes.weather[0].main))]),_c('h5',{staticClass:\"text-lg font-semibold\"},[_vm._v(_vm._s(_vm.searchRes.wind.speed)+\" mp/h\")])])]),_c('hr'),_c('div',{staticClass:\"pt-6\"},[_c('w-button',[_vm._v(\"Change Location\")])],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full h-full\">\n    <div\n      class=\"search--bar py-6 z-30 w-full px-6 shadow-lg\"\n      :class=\"!isSearchVisible && 'is-hidden'\"\n    >\n      <w-input\n        v-model=\"searchValue\"\n        placeholder=\"Search cities\"\n        @submit=\"searchCity\"\n      ></w-input>\n    </div>\n    <w-map\n      ref=\"map\"\n      :lat=\"currentLat\"\n      :long=\"currentLon\"\n      @markerClicked=\"toggleSearchBar\"\n      @mapClicked=\"toggleSearchBar\"\n      @mapDragStart=\"isSearchVisible = false\"\n      @mapDragEnd=\"isSearchVisible = true\"\n    ></w-map>\n    <div\n      v-if=\"isSnackbarVisible\"\n      class=\"\n        snackbar--bottom absolute bottom-0 z-30 w-full bg-white rounded-tl-2xl rounded-tr-2xl py-4\"\n      :class=\"!isSearchVisible && 'is-hidden'\"\n    >\n      <div class=\"mx-6\">\n        <div class=\"flex justify-between items-center pb-4\">\n          <div class=\"flex items-center\">\n            <h4 class=\"text-xl mr-4\">\n              <eva-icon name=\"pin\" fill=\"#363B64\"></eva-icon>\n            </h4>\n            <div>\n              <h5 class=\"text-xl font-semibold\">{{ searchRes.name }}</h5>\n              <p class=\"text-sm text-gray-400 font-light\">Indonesia</p>\n            </div>\n          </div>\n          <div>\n            <h5 class=\"text-2xl\">{{ searchRes.main.temp }}&deg;</h5>\n          </div>\n        </div>\n        <hr />\n        <div class=\"flex justify-between items-center py-4\">\n          <div>\n            <p class=\"text-sm text-gray-400 font-light\">Longitude and Latitude</p>\n            <h5 class=\"text-lg font-semibold\">\n              {{ searchRes.coord.lon }}, {{ searchRes.coord.lat }}\n            </h5>\n          </div>\n          <div>\n            <p class=\"text-sm text-gray-400 font-light\">{{ searchRes.weather[0].main }}</p>\n            <h5 class=\"text-lg font-semibold\">{{ searchRes.wind.speed }} mp/h</h5>\n          </div>\n        </div>\n        <hr />\n        <div class=\"pt-6\">\n          <w-button>Change Location</w-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport WeatherAPI from '@/services';\n\nexport default {\n  data() {\n    return {\n      searchValue: '',\n      isSnackbarVisible: false,\n      isSearchVisible: true,\n      searchRes: {\n        name: '',\n        coord: {\n          lon: 0,\n          lat: 0,\n        },\n        main: {\n          temp: 0,\n        },\n        wind: {\n          speed: 0,\n        },\n        weather: [],\n      },\n    };\n  },\n  computed: {\n    ...mapGetters('geolocation', ['currentLocation']),\n    currentLat() {\n      return this.isSnackbarVisible ? this.searchRes.coord.lat : this.currentLocation.lat;\n    },\n    currentLon() {\n      return this.isSnackbarVisible ? this.searchRes.coord.lon : this.currentLocation.long;\n    },\n  },\n  mounted() {\n    if (this.$route.query.q && this.$route.query.q !== '') {\n      this.searchValue = this.$route.query?.q;\n      this.searchCity();\n      this.$refs.map.recenter();\n    }\n  },\n  methods: {\n    toggleSearchBar() {\n      this.isSearchVisible = !this.isSearchVisible;\n    },\n    async searchCity() {\n      if (this.searchValue !== '') {\n        try {\n          const params = {\n            q: this.searchValue,\n            units: 'metric',\n          };\n          this.searchRes = await WeatherAPI.fetchWeather(params);\n          this.isSnackbarVisible = true;\n          this.$router.push({\n            name: 'Search',\n            query: {\n              q: this.searchValue,\n            },\n          }).catch(() => {});\n        } catch (e) {\n          //\n        }\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchCity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchCity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchCity.vue?vue&type=template&id=2ed8e19c&\"\nimport script from \"./SearchCity.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchCity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}